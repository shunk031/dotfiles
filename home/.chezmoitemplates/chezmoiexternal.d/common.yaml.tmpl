".emacs.d":
  type: "git-repo"
  url: "https://github.com/syl20bnr/spacemacs"
  refreshPeriod: "168h"

".local/bin/ghq":
  type: "file"
  url: {{ gitHubLatestReleaseAssetURL "x-motemen/ghq" (printf "ghq_%s_%s.zip" .chezmoi.os .chezmoi.arch) | quote }}
  executable: true
  refreshPeriod: "168h"
  filter:
    command: "bash"
    args:
      - "-c"
      - |
        mkdir -p ~/ghq
        tmpdir=$(mktemp -d)
        cat > $tmpdir/ghq_{{ .chezmoi.os }}_{{ .chezmoi.arch }}.zip
        unzip -p $tmpdir/ghq_{{ .chezmoi.os }}_{{ .chezmoi.arch }}.zip ghq_{{ .chezmoi.os }}_{{ .chezmoi.arch }}/ghq

{{ $arch := .chezmoi.arch | replace "amd64" "x86_64" -}}
{{ $os := .chezmoi.os | replace "darwin" "Darwin" | replace "linux" "Linux" -}}
".local/bin/gwq":
  type: "archive-file"
  url: {{ gitHubLatestReleaseAssetURL "d-kuro/gwq" (printf "gwq_%s_%s.tar.gz" $os $arch) | quote }}
  path: "gwq"
  executable: true
  refreshPeriod: 168h

{{ $fontsPath := .chezmoi.os | replace "darwin" "Library/Fonts" | replace "linux" ".local/share/fonts" -}}
"{{ $fontsPath }}/RobotoMono":
  type: "archive"
  url: {{ gitHubLatestReleaseAssetURL "ryanoasis/nerd-fonts" "RobotoMono.zip" | quote }}
  refreshPeriod: "168h"

"{{ $fontsPath }}/Hack":
  type: "archive"
  url: {{ gitHubLatestReleaseAssetURL "ryanoasis/nerd-fonts" "Hack.zip" | quote }}
  refreshPeriod: "168h"
